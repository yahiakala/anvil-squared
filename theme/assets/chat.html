<link href="_/theme/chat.css" rel="stylesheet" type='text/css'>

<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" rel="preload" as="font" crossorigin="anonymous">

<div class="structure">
    <div class="content">
        <div anvil-slot-repeat="default" class="anvil-measure-this"></div>
        <div class="placeholder drop-here" anvil-if-slot-empty="default" anvil-drop-slot="default">Drop a ColumnPanel here.</div>
    </div>
</div>
<div anvil-drop-default anvil-drop-redirect=".placeholder" anvil-drop-container=".anvil-container"></div>

<script>
    function setChatHeight(height, component) {
        // Find all elements with the class "anvil-role-fixed-repeating-panel"
        //var repeatingPanels = document.querySelectorAll(".anvil-role-fixed-repeating-panel");

        // Loop through the repeating panels
        //repeatingPanels.forEach(function(panel) {
            // Perform your desired operation on each repeating panel
        //    panel.style.maxHeight = maxHeight + "px";
        //});

        //var repeatingPanel = document.getElementById("myRepeatingPanel");
        //repeatingPanel.style.maxHeight = height + "px";

        // var html_element = this.find("anvil-role-fixed-repeating-panel");

        var html_element = component.v._anvil.element // jQuery Object
        html_element.css("height", height + "px");
        //html_element.scrollTop(html_element.prop("scrollHeight"));
        html_element.animate({ scrollTop: html_element.prop("scrollHeight") }, 1000); // 1000 ms

        //var repeatingPanel = document.querySelector("[role='fixed-repeating-panel']");

        // Check if the panel exists before setting the height
        //if (repeatingPanel) {
        //    repeatingPanel.style.height = height + "px"; // Set the fixed height to 200 pixels
        //    repeatingPanel.style.overflowY = "auto"; // Add vertical scrollbar if content overflows
        //}
        
        //var divs = this.find("div");
        //divs.css("background-color", "red")
    }
</script>